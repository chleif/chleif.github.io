<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="001.css">
    <title>Document</title>

</head>

<body>

    <table>
        <td>0~100</td>
    </table>

    <button class="createnumber">產生數字</button>
    <div class="answer">
        <input type="">
    </div>
    <div class="container">
        <div class="row cols-3">
            <div class="btn btn1">
                <button>1</button>
            </div>
            <div class="btn btn2">
                <button>2</button>
            </div>
            <div class="btn btn3">
                <button>3</button>
            </div>
            <div class="btn btn4">
                <button>4</button>
            </div>
            <div class="btn btn5">
                <button>5</button>
            </div>
            <div class="btn btn6">
                <button>6</button>
            </div>
            <div class="btn btn7">
                <button>7</button>
            </div>
            <div class="btn btn8">
                <button>8</button>
            </div>
            <div class="btn btn9">
                <button>9</button>
            </div>
            <div class="btn btnx">
                <button>X</button>
            </div>
            <div class="btn btn0">
                <button>0</button>
            </div>
            <div class="btn btnv">
                <button>V</button>
            </div>
        </div>
    </div>

    <script>
        let answer, getanswer;



        let btnCreateAnswer = document.querySelectorAll("button")[0];
        console.log(btnCreateAnswer);
        btnCreateAnswer.onclick = function () {
            answer = getRandom(100);
            btnCreateAnswer.innerText = "可開始作答";
            btnCreateAnswer.disabled = true;
            console.log(answer)
        }

        function getRandom(x) {
            return Math.floor(Math.random() * x);
        }



        let tempInput = 0;
        let input = document.querySelector('input');
        function insertinput(number) {
            input.innerText(tempInput + 'number');
        }
        let btn1 = document.querySelector('.btn1');
        btn1.addEventListener('click', function () {
            numberBtn(1)
        })
        let btn2 = document.querySelector('.btn2');
        btn2.addEventListener('click', function () {
            numberBtn(2)
        })
        let btn3 = document.querySelector('.btn3');
        btn3.addEventListener('click', function () {
            numberBtn(3)
        })
        let btn4 = document.querySelector('.btn4');
        btn4.addEventListener('click', function () {
            numberBtn(4)
        })
        let btn5 = document.querySelector('.btn5');
        btn5.addEventListener('click', function () {
            numberBtn(5)
        })
        let btn6 = document.querySelector('.btn6');
        btn6.addEventListener('click', function () {
            numberBtn(6)
        })
        let btn7 = document.querySelector('.btn7');
        btn7.addEventListener('click', function () {
            numberBtn(7)
        })
        let btn8 = document.querySelector('.btn8');
        btn8.addEventListener('click', function () {
            numberBtn(8)
        })
        let btn9 = document.querySelector('.btn9');
        btn9.addEventListener('click', function () {
            numberBtn(9)
        })
        let btnx = document.querySelector('.btnx');
        btnx.addEventListener('click', function () {
            input.value = "";
            tempInput = 0
        }
        )
        let btn0 = document.querySelector('.btn0');
        btn0.addEventListener('click', function () {
            numberBtn(0)
        })

        let btnv = document.querySelector('.btnv');
        btnv.addEventListener('click', function () {
            if (tempInput == answer) {
                alert('正解，答案是' + answer);
                btnCreateAnswer.innerText = "產生數字";
                btnCreateAnswer.disabled = false;
                input.value = "";
                tempInput = 0
            }
            else {
                if (tempInput > maxrange) {
                    console.error(alert('不能大於' + maxrange))
                }
                else if (tempInput < minrange) {
                    console.error(alert('不能小於' + minrange))
                }
                else {
                    changeRange(tempInput);
                }
                input.value = "";
                tempInput = 0;
            }

        })
        let maxrange = 100;
        let minrange = 0;
        let range = document.querySelector('td');
        range.innerText = minrange + "~" + maxrange;
        function changeRange(x) {
            if (x > answer) {
                maxrange = x;
            }
            else {
                minrange = x;
            }
            range.innerText = minrange + "~" + maxrange;
        }

        function numberBtn(btn) {
            if (tempInput == 0) {
                input.value = btn + '';
                tempInput = btn;
            }
            else {
                input.value = tempInput + '' + btn;
                tempInput = tempInput + '' + btn;
            }
        }




    </script>
</body>

</html>